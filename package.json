{
    "name": "namucode",
    "displayName": "나무코드 Namucode",
    "description": "나무위키 VS Code 확장 프로그램",
    "publisher": "jhk1090",
    "version": "1.7.5",
    "engines": {
        "vscode": "^1.75.0"
    },
    "icon": "images/Logo.png",
    "bugs": {
        "url": "https://github.com/jhk1090/namucode/issues",
        "email": "jhk1090.public@gmail.com"
    },
    "repository": {
        "type": "git",
        "url": "https://github.com/jhk1090/namucode.git"
    },
    "homepage": "https://github.com/jhk1090/namucode/blob/main/README.md",
    "categories": [
        "Keymaps",
        "Programming Languages",
        "Themes",
        "Snippets",
        "Other"
    ],
    "activationEvents": [],
    "main": "./dist/extension.js",
    "contributes": {
        "commands": [
            {
                "command": "namucode.paragraphLevelDown",
                "title": "문단 한단계 낮추기",
                "category": "나무코드",
                "when": "editorTextFocus && editorLangId == 'namu' && resourceExtname == '.namu'"
            },
            {
                "command": "namucode.paragraphLevelUp",
                "title": "문단 한단계 높이기",
                "category": "나무코드",
                "when": "editorTextFocus && editorLangId == 'namu' && resourceExtname == '.namu'"
            },
            {
                "command": "namucode.paragraphSort",
                "title": "문단 자동 정렬",
                "category": "나무코드",
                "when": "editorTextFocus && editorLangId == 'namu' && resourceExtname == '.namu'",
                "icon": "$(sort-precedence)"
            },
            {
                "command": "namucode.linkify",
                "title": "텍스트 링크",
                "category": "나무코드",
                "when": "editorTextFocus && editorLangId == 'namu' && resourceExtname == '.namu'"
            },
            {
                "command": "namucode.textBold",
                "title": "텍스트 굵게",
                "category": "나무코드",
                "when": "editorTextFocus && editorLangId == 'namu' && resourceExtname == '.namu'"
            },
            {
                "command": "namucode.textItalic",
                "title": "텍스트 기울임",
                "category": "나무코드",
                "when": "editorTextFocus && editorLangId == 'namu' && resourceExtname == '.namu'"
            },
            {
                "command": "namucode.textUnderline",
                "title": "텍스트 밑줄",
                "category": "나무코드",
                "when": "editorTextFocus && editorLangId == 'namu' && resourceExtname == '.namu'"
            },
            {
                "command": "namucode.textStrike",
                "title": "텍스트 취소선",
                "category": "나무코드",
                "when": "editorTextFocus && editorLangId == 'namu' && resourceExtname == '.namu'"
            },
            {
                "command": "namucode.textSuperscript",
                "title": "텍스트 위첨자",
                "category": "나무코드",
                "when": "editorTextFocus && editorLangId == 'namu' && resourceExtname == '.namu'"
            },
            {
                "command": "namucode.textSubscript",
                "title": "텍스트 아래첨자",
                "category": "나무코드",
                "when": "editorTextFocus && editorLangId == 'namu' && resourceExtname == '.namu'"
            },
            {
                "command": "namucode.preview",
                "title": "미리보기",
                "category": "나무코드",
                "when": "editorTextFocus && editorLangId == 'namu' && resourceExtname == '.namu'",
                "icon": "$(open-preview)"
            },
            {
                "command": "namucode.retryPreview",
                "title": "미리보기 재시도",
                "category": "나무코드",
                "icon": "$(sync)"
            },
            {
                "command": "namucode.openSettings",
                "title": "설정 열기",
                "category": "나무코드",
                "icon": "$(gear)"
            },
            {
                "command": "namucode.openPreviewGuideline",
                "title": "미리보기 도움말 열기",
                "category": "나무코드",
                "icon": "$(question)"
            },
            {
                "command": "namucode.openIncludeParameterEditorGuideline",
                "title": "틀 매개변수 편집기 도움말 열기",
                "category": "나무코드",
                "icon": "$(question)"
            },
            {
                "command": "namucode.openIncludeParameterEditor",
                "title": "틀 매개변수 편집기 열기",
                "category": "나무코드",
                "icon": "$(wand)"
            },
            {
                "command": "namucode.previewEditorComment",
                "title": "고정 주석 미리보기",
                "category": "나무코드",
                "icon": "$(book)"
            }
        ],
        "menus": {
            "editor/title": [
                {
                    "command": "namucode.preview",
                    "group": "navigation",
                    "when": "editorTextFocus && editorLangId == 'namu' && resourceExtname == '.namu'"
                },
                {
                    "command": "namucode.retryPreview",
                    "when": "activeWebviewPanelId =~ /namucode-webview-/",
                    "group": "navigation"
                },
                {
                    "command": "namucode.paragraphSort",
                    "group": "navigation",
                    "when": "editorTextFocus && editorLangId == 'namu' && resourceExtname == '.namu'"
                },
                {
                    "command": "namucode.openSettings",
                    "when": "activeWebviewPanelId =~ /namucode-webview-/",
                    "group": "navigation"
                },
                {
                    "command": "namucode.openPreviewGuideline",
                    "when": "activeWebviewPanelId =~ /namucode-webview-/",
                    "group": "navigation"
                },
                {
                    "command": "namucode.openIncludeParameterEditor",
                    "when": "activeWebviewPanelId =~ /namucode-webview-/",
                    "group": "navigation"
                },
                {
                    "command": "namucode.previewEditorComment",
                    "when": "activeWebviewPanelId =~ /namucode-webview-/",
                    "group": "navigation"
                }
            ],
            "view/title": [
                {
                    "command": "namucode.openIncludeParameterEditorGuideline",
                    "when": "view == includeParameterEditor",
                    "group": "navigation"
                }
            ]
        },
        "languages": [
            {
                "id": "namu",
                "aliases": [
                    "나무마크",
                    "Namuwiki Code"
                ],
                "extensions": [
                    "namu"
                ],
                "configuration": "./language-configuration.json",
                "icon": {
                    "light": "images/Logo.svg",
                    "dark": "images/Logo.svg"
                }
            }
        ],
        "grammars": [
            {
                "language": "namu",
                "scopeName": "source.namu",
                "path": "./syntaxes/key.tmLanguage.json",
                "injectTo": [
                    "source.namu"
                ],
                "embeddedLanguages": {
                    "meta.embedded.block.basic": "bas",
                    "meta.embedded.block.cpp": "cpp",
                    "meta.embedded.block.csharp": "cs",
                    "meta.embedded.block.css": "css",
                    "meta.embedded.block.erlang": "erl",
                    "meta.embedded.block.go": "go",
                    "meta.embedded.block.html": "html",
                    "meta.embedded.block.java": "java",
                    "meta.embedded.block.javascript": "javascript",
                    "meta.embedded.block.json": "json",
                    "meta.embedded.block.kotlin": "kt",
                    "meta.embedded.block.lisp": "lisp",
                    "meta.embedded.block.lua": "lua",
                    "meta.embedded.block.markdown": "markdown",
                    "meta.embedded.block.objectivec": "m",
                    "meta.embedded.block.perl": "perl",
                    "meta.embedded.block.php": "php",
                    "meta.embedded.block.powershell": "ps1",
                    "meta.embedded.block.python": "py",
                    "meta.embedded.block.ruby": "ruby",
                    "meta.embedded.block.rust": "rust",
                    "meta.embedded.block.sh": "sh",
                    "meta.embedded.block.sql": "sql",
                    "meta.embedded.block.swift": "swift",
                    "meta.embedded.block.typescript": "typescript",
                    "meta.embedded.block.xml": "xml",
                    "meta.embedded.line.css": "css",
                    "meta.embedded.block.tex": "tex"
                }
            }
        ],
        "snippets": [
            {
                "language": "namu",
                "path": "./snippets.json"
            }
        ],
        "keybindings": [
            {
                "command": "namucode.paragraphLevelDown",
                "key": "ctrl+down",
                "mac": "cmd+down",
                "when": "editorTextFocus && editorLangId == 'namu'"
            },
            {
                "command": "namucode.paragraphLevelUp",
                "key": "ctrl+up",
                "mac": "cmd+up",
                "when": "editorTextFocus && editorLangId == 'namu'"
            },
            {
                "command": "namucode.linkify",
                "key": "ctrl+shift+K",
                "mac": "cmd+shift+K",
                "when": "editorHasSelection && editorLangId == 'namu'"
            },
            {
                "command": "namucode.textBold",
                "key": "ctrl+B",
                "mac": "cmd+B",
                "when": "editorHasSelection && editorLangId == 'namu'"
            },
            {
                "command": "namucode.textItalic",
                "key": "ctrl+I",
                "mac": "cmd+I",
                "when": "editorHasSelection && editorLangId == 'namu'"
            },
            {
                "command": "namucode.textUnderline",
                "key": "ctrl+U",
                "mac": "cmd+U",
                "when": "editorHasSelection && editorLangId == 'namu'"
            },
            {
                "command": "namucode.textStrike",
                "key": "ctrl+shift+D",
                "mac": "cmd+shift+D",
                "when": "editorHasSelection && editorLangId == 'namu'"
            },
            {
                "command": "namucode.textSuperscript",
                "key": "ctrl+shift+U",
                "mac": "cmd+shift+U",
                "when": "editorHasSelection && editorLangId == 'namu'"
            },
            {
                "command": "namucode.textSubscript",
                "key": "ctrl+shift+Y",
                "mac": "cmd+shift+Y",
                "when": "editorHasSelection && editorLangId == 'namu'"
            },
            {
                "command": "namucode.newParagraph",
                "key": "ctrl+=",
                "mac": "cmd+=",
                "when": "editorHasSelection && editorLangId == 'namu'"
            },
            {
                "command": "editor.action.insertSnippet",
                "key": "ctrl+alt+I",
                "mac": "cmd+shift+I",
                "args": {
                    "langId": "namu",
                    "name": "파일 삽입"
                }
            },
            {
                "command": "namucode.paragraphSort",
                "key": "ctrl+k ctrl+s",
                "mac": "cmd+k cmd+s",
                "when": "editorTextFocus && editorLangId == 'namu'"
            },
            {
                "command": "namucode.preview",
                "key": "ctrl+k ctrl+p",
                "mac": "cmd+k cmd+p",
                "when": "editorTextFocus && editorLangId == 'namu'"
            }
        ],
        "configurationDefaults": {
            "editor.tokenColorCustomizations": {
                "[*Dark*]": {
                    "textMateRules": [
                        {
                            "scope": "string.quoted.double.namu",
                            "settings": {
                                "foreground": "#CE9178"
                            }
                        },
                        {
                            "scope": "markup.bold.namu",
                            "settings": {
                                "foreground": "#ffffff",
                                "fontStyle": "bold"
                            }
                        },
                        {
                            "scope": "markup.italic.namu",
                            "settings": {
                                "foreground": "#D4D4D4",
                                "fontStyle": "italic"
                            }
                        },
                        {
                            "scope": "markup.underline.namu",
                            "settings": {
                                "foreground": "#D4D4D4",
                                "fontStyle": "underline"
                            }
                        },
                        {
                            "scope": "markup.deleted.namu",
                            "settings": {
                                "foreground": "#D4D4D4",
                                "fontStyle": "strikethrough"
                            }
                        },
                        {
                            "scope": "variable.parameter.namu",
                            "settings": {
                                "foreground": "#89DDFF"
                            }
                        },
                        {
                            "scope": "keyword.control.namu",
                            "settings": {
                                "foreground": "#569CD6",
                                "fontStyle": ""
                            }
                        },
                        {
                            "scope": "support.constant.namu",
                            "settings": {
                                "foreground": "#fa7f5a"
                            }
                        },
                        {
                            "scope": "keyword.operator.namu",
                            "settings": {
                                "foreground": "#6A9955",
                                "fontStyle": "bold"
                            }
                        },
                        {
                            "scope": "comment.line.double-quote.namu",
                            "settings": {
                                "foreground": "#6d6d6d",
                                "fontStyle": "italic"
                            }
                        },
                        {
                            "scope": "support.constant.color.namu",
                            "settings": {
                                "foreground": "#fa7f5a",
                                "fontStyle": ""
                            }
                        },
                        {
                            "scope": "keyword.control.bracket.namu",
                            "settings": {
                                "foreground": "#fa7f5a",
                                "fontStyle": ""
                            }
                        },
                        {
                            "scope": "variable.parameter.bracket.namu",
                            "settings": {
                                "foreground": "#89DDFF",
                                "fontStyle": ""
                            }
                        },
                        {
                            "scope": "meta.block",
                            "settings": {
                                "foreground": "#EEFFFF",
                                "fontStyle": ""
                            }
                        },
                        {
                            "scope": "punctuation.definition.table.namu",
                            "settings": {
                                "foreground": "#569CD6",
                                "fontStyle": ""
                            }
                        },
                        {
                            "scope": "punctuation.definition.tag.begin.namu",
                            "settings": {
                                "foreground": "#569CD6",
                                "fontStyle": ""
                            }
                        },
                        {
                            "scope": "punctuation.definition.tag.end.namu",
                            "settings": {
                                "foreground": "#569CD6",
                                "fontStyle": ""
                            }
                        },
                        {
                            "scope": "entity.other.attribute-name.table.namu",
                            "settings": {
                                "foreground": "#89DDFF",
                                "fontStyle": ""
                            }
                        },
                        {
                            "scope": "string.unquoted.attribute-value.table.namu",
                            "settings": {
                                "foreground": "#CE9178",
                                "fontStyle": ""
                            }
                        },
                        {
                            "scope": "keyword.control.include.namu",
                            "settings": {
                                "foreground": "#569CD6",
                                "fontStyle": ""
                            }
                        },
                        {
                            "scope": "variable.parameter.key.namu",
                            "settings": {
                                "foreground": "#89DDFF",
                                "fontStyle": ""
                            }
                        },
                        {
                            "scope": "string.unquoted.argument.namu",
                            "settings": {
                                "foreground": "#CE9178",
                                "fontStyle": ""
                            }
                        }
                    ]
                }
            }
        },
        "configuration": [
            {
                "id": "namucodeSetting",
                "title": "Namucode",
                "order": 1,
                "properties": {
                    "namucode.parser.maxParsingCharacter": {
                        "type": "number",
                        "default": 1500000,
                        "title": "파싱 허용 문서 최대 글자 수",
                        "markdownDescription": "**파싱 허용 문서 최대 글자 수**. 파서 입력값으로 들어가는 문서의 최대 글자 수 입니다. 문서 글자 수가 이 글자 수를 넘기면 파서와 관련된 모든 기능을 사용할 수 없습니다."
                    },
                    "namucode.parser.maxParsingDepth": {
                        "type": "number",
                        "default": 30,
                        "title": "파싱 최대 깊이",
                        "markdownDescription": "**파싱 최대 깊이**. 미리보기 파서에서 문서 파싱 시 최대 얼마나 깊이 파싱될지 설정합니다. `{{{#!wiki style=\"\" }}}`과 같은 bracket 문법이 얼마나 겹쳐있는 지에 따라 깊이가 깊어집니다."
                    },
                    "namucode.preview.internalLinkDomain": {
                        "type": "string",
                        "default": "https://namu.wiki",
                        "title": "내부 링크 도메인 주소",
                        "markdownDescription": "**내부 링크 도메인 주소**. 미리보기에서 내부 링크가 걸릴 때 도메인 주소를 설정합니다. `[[나무코드]]`가 미리보기에서 표시된다면 `<도메인 주소>/w/나무코드`로 링크가 걸립니다."
                    },
                    "namucode.preview.workspaceReference": {
                        "type": "boolean",
                        "default": "true",
                        "title": "작업 환경 리소스 참조 여부",
                        "markdownDescription": "**작업 환경 리소스 참조 여부**. 미리보기 시 작업 환경에 있는 다른 namu 파일/이미지 파일을 불러옵니다. 활성화 시, 이미지 삽입과 분류, include 기능을 사용할 수 있습니다."
                    },
                    "namucode.preview.maxLength": {
                        "type": "number",
                        "default": 5000000,
                        "title": "렌더링 최대 글자 수",
                        "markdownDescription": "**렌더링 최대 글자 수**. 미리보기 렌더링 중 문자 길이가 김을 판단하는 글자 수 기준입니다. 이 길이를 넘을 경우 문서 길이가 너무 김 오류가 발생합니다."
                    },
                    "namucode.preview.maxRenderingTimeout": {
                        "type": "number",
                        "default": 10,
                        "title": "렌더링 최대 대기 시간",
                        "markdownDescription": "**렌더링 최대 대기 시간**. 미리보기 파서에서 문서 렌더링을 기다리는 최대 시간(초)입니다. 이 시간을 넘을 경우 미리보기가 중단됩니다."
                    }
                }
            }
        ],
        "views": {
            "namucode-activitybar": [
                {
                    "type": "webview",
                    "id": "includeParameterEditor",
                    "name": "틀 매개변수 편집기",
                    "when": "activeWebviewPanelId =~ /namucode-webview-/",
                    "icon": "$(wand)",
                    "contextualTitle": "나무코드"
                }
            ]
        },
        "viewsContainers": {
			"activitybar": [
				{
					"id": "namucode-activitybar",
					"title": "나무코드",
					"icon": "$(wand)"
				}
            ]
        }
    },
    "scripts": {
        "vscode:prepublish": "yarn run build:production",
        "build:production": "yarn run build:client && yarn run build:server && yarn run build:frontend && yarn run build:bundle --production",
        "build": "yarn run build:client && yarn run build:server && yarn run build:frontend && yarn run build:bundle",
        "build:client": "cd client && yarn install",
        "build:server": "cd server && yarn install",
        "build:frontend": "cd client/media/frontend && yarn install && yarn run build",
        "build:bundle": "node esbuild.js",
        "watch": "yarn run build:bundle --watch"
    },
    "devDependencies": {
        "@types/glob": "^7.2.0",
        "@types/mocha": "^10.0.6",
        "@types/node": "^18.14.6",
        "@types/vscode": "^1.68.0",
        "@typescript-eslint/eslint-plugin": "^7.1.0",
        "@typescript-eslint/parser": "^7.1.0",
        "@vscode/test-electron": "^2.1.3",
        "esbuild": "^0.25.11",
        "eslint": "^8.57.0",
        "fs-extra": "^11.3.2",
        "glob": "^8.0.3",
        "mocha": "^10.3.0",
        "typescript": "^5.3.3"
    },
    "dependencies": {}
}
